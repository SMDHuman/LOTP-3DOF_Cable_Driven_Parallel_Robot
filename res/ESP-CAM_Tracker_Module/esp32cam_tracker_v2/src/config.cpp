//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
#include "config.h"
#include <EEPROM.h>
//-----------------------------------------------------------------------------

config_t config;

//-----------------------------------------------------------------------------
void config_init(){
    EEPROM.begin(512);
    //Restore Default
    if(EEPROM.readByte(0) != 0){
        config_commit();
    }else{
        EEPROM.get(0, config);
    }
}
//-----------------------------------------------------------------------------
void config_task(){

}
//-----------------------------------------------------------------------------
void config_commit(){
    EEPROM.put(0, config);
    EEPROM.commit();
}
//-----------------------------------------------------------------------------